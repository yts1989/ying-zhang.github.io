<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Ying的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Ying的博客">
<meta property="og:url" content="https://ying-zhang.github.io/index.html">
<meta property="og:site_name" content="Ying的博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ying的博客">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  

</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <div class="outer">
        <section id="main">
  
    <article id="post-docker-image-spec-v1.2" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/cloud/2017/docker-image-spec-v1.2/">【译文】Docker镜像格式规范，v1.2</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/cloud/2017/docker-image-spec-v1.2/" class="article-date">
  <time datetime="2017-05-15T16:00:00.000Z" itemprop="datePublished">2017-05-16</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/cloud/">cloud</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>原文见 <a href="https://github.com/moby/moby/blob/master/image/spec/v1.2.md" target="_blank" rel="external">https://github.com/moby/moby/blob/master/image/spec/v1.2.md</a><br>Docker已经迁移到Moby项目了。</p>
        
          <p class="article-more-link">
            <a href="/cloud/2017/docker-image-spec-v1.2/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-setup-nat-x-route" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2017/setup-nat-x-route/">CentOS 7 及 Ubuntu 16.04 设置 NAT 网络</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2017/setup-nat-x-route/" class="article-date">
  <time datetime="2017-04-14T16:00:00.000Z" itemprop="datePublished">2017-04-15</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>记录一下设置一台双网卡的CentOS服务器提供 NAT 转发，作为内网网关，其它服务器的默认网关更改为此节点，添加路由，以及处理外部ssh登录变慢的问题。<br>
        
          <p class="article-more-link">
            <a href="/misc/2017/setup-nat-x-route/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-setup-squid-proxy" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2017/setup-squid-proxy/">设置及使用HTTP代理</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2017/setup-squid-proxy/" class="article-date">
  <time datetime="2017-04-13T16:00:00.000Z" itemprop="datePublished">2017-04-14</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>记录一下设置Squid作为HTTP代理，及docker、yum、apt等的代理配置。<br>
        
          <p class="article-more-link">
            <a href="/misc/2017/setup-squid-proxy/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-install-linpack-xhpl" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2017/install-linpack-xhpl/">在MPI集群执行Linpack测试</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2017/install-linpack-xhpl/" class="article-date">
  <time datetime="2017-04-11T16:00:00.000Z" itemprop="datePublished">2017-04-12</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>使用虚拟机搭建一个3台VM的CentOS 7集群，安装mpi，blas和hpl，执行linpack测试集群的计算性能。<br>尝试编译netlib hpl 2.2时遇到一个错误，导致不能使用mpi。<br>后来发现可以直接使用Intel编译好的xhpl。由于不理解mpi和xhpl的选项，集群的性能比单机还明显低得多，还没找到原因;-(<br>
        
          <p class="article-more-link">
            <a href="/misc/2017/install-linpack-xhpl/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-vm-net-2" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/cloud/2017/vm-net-2/">再说docker及云中的网络连接</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/cloud/2017/vm-net-2/" class="article-date">
  <time datetime="2017-04-07T16:00:00.000Z" itemprop="datePublished">2017-04-08</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/cloud/">cloud</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>之前写过一篇<a href="https://ying-zhang.github.io/cloud/2016/vm-net/">关于虚拟机和docker网络的日志</a>，主要介绍的是VM的虚拟网络，顺带提了一下docker的桥接。<br>经过2016年的几次版本升级，docker的网络功能有了很大的改善，已经基本稳定可用了。<br>去年<a href="https://github.com/NAP-GHJ/NetTool/blob/master/blog/%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C.md" target="_blank" rel="external">与一个大四做毕设的学弟折腾过一段时间docker网络</a>，这里参考浙大SEL实验室的《Docker容器与容器云 第2版》（下面简称《容器云》书） <strong>4.2节 Docker高级网络实战</strong> ，整理一下相关内容。</p>
        
          <p class="article-more-link">
            <a href="/cloud/2017/vm-net-2/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-cobbler-pxe" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2017/cobbler-pxe/">使用Cobbler搭建PXE服务器</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2017/cobbler-pxe/" class="article-date">
  <time datetime="2017-03-21T16:00:00.000Z" itemprop="datePublished">2017-03-22</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://zh.wikipedia.org/wiki/%E9%A2%84%E5%90%AF%E5%8A%A8%E6%89%A7%E8%A1%8C%E7%8E%AF%E5%A2%83" target="_blank" rel="external">PXE</a> （Preboot eXecution Environment，预执行环境）是通过 <strong>局域网</strong> 来启动计算机（和安装操作系统）的技术。<br>一般是通过刻录到光驱或U盘的Live CD这样的本地存储来安装系统的，要通过网络来安装系统，首先要知道安装文件存放的服务器（TFTP服务器，Trivial File Transfer Protocol，精简FTP），而系统启动时网卡的IP都还没有。所以PXE必须要有一个 <strong>DHCP（Dynamic Host Configuration Protocol，动态主机设置协议）</strong>，不但负责为机器分配 IP地址，还会告知安装文件所在的服务器的 IP地址。<br>Cobbler简化了安装配置DHCP、TFTP、关联Kickstart应答文件等搭建PXE服务器的过程。</p>
        
          <p class="article-more-link">
            <a href="/misc/2017/cobbler-pxe/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-spanner-truetime-cap" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/cloud/2017/spanner-truetime-cap/">【译文】Spanner, TrueTime 和CAP理论</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/cloud/2017/spanner-truetime-cap/" class="article-date">
  <time datetime="2017-03-05T16:00:00.000Z" itemprop="datePublished">2017-03-06</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/cloud/">cloud</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>作者：<a href="https://en.wikipedia.org/wiki/Eric_Brewer_%28scientist%29" target="_blank" rel="external">Eric Brewer，VP, Infrastructure, Google</a><br>2017-02-14<br>英文原文：<a href="https://research.google.com/pubs/pub45855.html" target="_blank" rel="external">Spanner, TrueTime and the CAP Theorem</a> ,<a href="https://research.google.com/pubs/archive/45855.pdf" target="_blank" rel="external">英文全文 PDF</a><br><a href="/doc/Spanner-TrueTime-CAP.pdf">译文全文PDF</a></p>
        
          <p class="article-more-link">
            <a href="/cloud/2017/spanner-truetime-cap/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-ccf-all-in-one" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2017/ccf-all-in-one/">CCF目录单页版</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2017/ccf-all-in-one/" class="article-date">
  <time datetime="2017-02-24T16:00:00.000Z" itemprop="datePublished">2017-02-25</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>CCF目录有<a href="http://history.ccf.org.cn/sites/ccf/paiming.jsp" target="_blank" rel="external">网页版</a>和<a href="http://history.ccf.org.cn/sites/paiming/2015ccfmulu.pdf" target="_blank" rel="external">2015版的PDF</a>。<br>前一段时间整理论文列表，感觉分成多页的目录用起来不太方便。于是就粘贴复制，把它们合并到一起。<br>Markdown排版比较麻烦，于是把表格单独放在一个html文件里了，链接是 <strong><a href="/doc/ccf-all-in-one-2017-02-25.html">CCF目录完整列表2017-02-25</a></strong> 。<br>此外还有 <strong><a href="/doc/ccf_all_in_one_2017-02-25.xlsx">Excel格式</a></strong>。</p>
<p>CCF网站最近改版了，原来的链接发生了变化(2017-02-25访问，上面的链接已经更新过了)。新版的链接是<a href="http://webtest.ccf.org.cn/xspj/gyml/" target="_blank" rel="external">CCF目录</a> ，HTML版不太完整，而且没有提供PDF文件。</p>
        
          <p class="article-more-link">
            <a href="/misc/2017/ccf-all-in-one/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-we-love-paper" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2016/we-love-paper/">如何收集和整理论文（面向CS专业）</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2016/we-love-paper/" class="article-date">
  <time datetime="2016-09-27T16:00:00.000Z" itemprop="datePublished">2016-09-28</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>论文（Paper）是每个研究生读研路上挥之不去的“阴云”。<br>无论是否已经有了一个好的课题或想法，都首先要收集某个研究方向一定数量的论文，来了解相关的工作和最新进展(State of the art &amp; practice）。<br>本文介绍了如何检索、收集计算机科学（CS）专业的论文，还介绍了与相关的机构，学术会议和论文数据库。<br>文末有 <a href="#hosts"><strong>Bonus</strong></a> 哦;-)</p>
        
          <p class="article-more-link">
            <a href="/misc/2016/we-love-paper/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-win-vhd-boot" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/cloud/2016/win-vhd-boot/">Windows从VHD启动实现极速快照和恢复</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/cloud/2016/win-vhd-boot/" class="article-date">
  <time datetime="2016-09-21T16:00:00.000Z" itemprop="datePublished">2016-09-22</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/cloud/">cloud</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>把之前发过的<a href="/cloud/2016/vm-disk/index.html#win-vhd-boot">虚拟机及docker的存储，快照和镜像</a>相关部分单独拿出来。正文无内容。<br>
        
          <p class="article-more-link">
            <a href="/cloud/2016/win-vhd-boot/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-vm-disk" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/cloud/2016/vm-disk/">虚拟机及docker的存储，快照和镜像</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/cloud/2016/vm-disk/" class="article-date">
  <time datetime="2016-09-20T16:00:00.000Z" itemprop="datePublished">2016-09-21</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/cloud/">cloud</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>VM的虚拟硬盘让我们能够把整个操作系统和应用软件、配置、数据都 <strong>封装</strong> 在一个（或多个）文件里，这样就实现了VM的迁移，再加上 <strong>差分硬盘</strong> 功能，实现了VM的快速克隆和快照。对VM镜像管理的需求也就随之而来了。</p>
        
          <p class="article-more-link">
            <a href="/cloud/2016/vm-disk/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-vm-net" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/cloud/2016/vm-net/">虚拟机及docker的网络连接</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/cloud/2016/vm-net/" class="article-date">
  <time datetime="2016-09-19T16:00:00.000Z" itemprop="datePublished">2016-09-20</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/cloud/">cloud</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>网络是云计算中重要的基础设施。这里比较了VirtualBox（简写为vbox），VMware，Hyper-V，KVM这些虚拟机管理器（VMM）及docker的网络连接方式。</p>
        
          <p class="article-more-link">
            <a href="/cloud/2016/vm-net/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-udpnuurufa" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2016/udpnuurufa/">双拼输入法</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2016/udpnuurufa/" class="article-date">
  <time datetime="2016-09-18T16:00:00.000Z" itemprop="datePublished">2016-09-19</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>双拼输入法是一个很典型的例子：一直就在我们日常使用的软件之中“隐藏”的功能，不为人所熟知，但是一旦掌握了，用起来就会很方便。<br>除了介绍双拼输入法，还有一点关于语音输入的杂想。<br>
        
          <p class="article-more-link">
            <a href="/misc/2016/udpnuurufa/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-remote" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2016/remote/">局域网内的远程操作</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2016/remote/" class="article-date">
  <time datetime="2016-09-17T16:00:00.000Z" itemprop="datePublished">2016-09-18</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>一些基础的远程操作，包括ssh，共享文件，远程桌面。</p>
        
          <p class="article-more-link">
            <a href="/misc/2016/remote/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-install-win-10" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2016/install-win-10/">安装和设置Windows 10</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2016/install-win-10/" class="article-date">
  <time datetime="2016-09-16T16:00:00.000Z" itemprop="datePublished">2016-09-17</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>记录一下安装Windows 10 LTSB 及 基本设置作为备忘。</p>
        
          <p class="article-more-link">
            <a href="/misc/2016/install-win-10/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-install-ubuntu" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2016/install-ubuntu/">安装Ubuntu Server 16.04 lts</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2016/install-ubuntu/" class="article-date">
  <time datetime="2016-09-15T16:00:00.000Z" itemprop="datePublished">2016-09-16</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>记录一下安装Ubuntu Server 16.04 lts 及 基本设置作为备忘。</p>
        
          <p class="article-more-link">
            <a href="/misc/2016/install-ubuntu/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-hello-hexo" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2016/hello-hexo/">Hello Hexo！</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2016/hello-hexo/" class="article-date">
  <time datetime="2016-09-14T16:00:00.000Z" itemprop="datePublished">2016-09-15</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>欢迎访问。<br>本博客使用<a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>生成。本文记录了设置过程。</p>
        
          <p class="article-more-link">
            <a href="/misc/2016/hello-hexo/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-obstinate-are-the-trammels" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2016/obstinate-are-the-trammels/">罗网是坚韧的</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2016/obstinate-are-the-trammels/" class="article-date">
  <time datetime="2016-05-31T16:00:00.000Z" itemprop="datePublished">2016-06-01</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>这是一篇吐槽文，想到啥就写啥，不定期吐槽。。。<br>为了清净，把日期改了，手工置底。</p>
<p>====================</p>
        
          <p class="article-more-link">
            <a href="/misc/2016/obstinate-are-the-trammels/#more">阅读全文...</a>
          </p>
        
      

      
        
    </div>
  </div>
  
</article>


  
    <article id="post-a-story-of-stylus" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/misc/2016/a-story-of-stylus/">如果有一支笔</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/misc/2016/a-story-of-stylus/" class="article-date">
  <time datetime="2016-05-19T16:00:00.000Z" itemprop="datePublished">2016-05-20</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/misc/">misc</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>这是一个我四年前的想法，但一直没有实现。所以说，这也是一个“<a href="https://www.zhihu.com/question/22989105" target="_blank" rel="external">就差一个软件工程师了</a>”的悲伤的故事（其实还缺一个硬件工程师）。<br>为了清净，把日期改了，手工置底。</p>
<!-- TOC -->
<pre><code>- [title: 如果有一支笔](#title-%E5%A6%82%E6%9E%9C%E6%9C%89%E4%B8%80%E6%94%AF%E7%AC%94)
</code></pre><ul>
<li><a href="#xpen">xPen</a><ul>
<li><a href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">应用场景</a></li>
<li><a href="#%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1">结构设计</a><ul>
<li><a href="#%E5%9F%BA%E4%BA%8E%E5%85%89%E7%94%B5%E5%8E%9F%E7%90%86">基于光电原理</a></li>
<li><a href="#%E5%9F%BA%E4%BA%8E%E9%99%80%E8%9E%BA%E4%BB%AA%EF%BC%8C%E5%8A%A0%E9%80%9F%E5%BA%A6%E8%AE%A1">基于陀螺仪，加速度计</a></li>
<li><a href="#xpen%E7%9A%84%E8%AE%BE%E8%AE%A1%E8%80%83%E8%99%91">xPen的设计考虑</a></li>
<li><a href="#%E5%85%B6%E5%AE%83%E8%80%83%E8%99%91">其它考虑</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E5%85%B6%E5%AE%83%EF%BC%8C%E5%9B%9B%E5%B9%B4%E4%B9%8B%E8%B7%AF">其它，四年之路</a></li>
<li><a href="#%E7%BD%97%E6%8A%80%E7%9A%84spotlight">罗技的spotlight</a></li>
</ul>
<!-- /TOC -->
<h1 id="xPen"><a href="#xPen" class="headerlink" title="xPen"></a>xPen</h1><p><a href="https://en.wikipedia.org/wiki/Computer_mouse" target="_blank" rel="external">鼠标</a>是图形用户界面的主要输入设备。其实在鼠标（1968年原型诞生）之前，还有一种<a href="https://en.wikipedia.org/wiki/Light_pen" target="_blank" rel="external">光笔（1955年）</a>的设备。光笔需要直接在屏幕上操作，其实跟现在的电容笔+触摸板用法差不多，但显然不如鼠标放在桌上操作舒服，现在很少有人听说过这种设备了。笔式输入设备的特点是能提供类似书写的体验，用鼠标写一个字的体验是相当别扭的，但是如果把鼠标做成一个笔的形状，工作原理没有变化，但感觉上就会方便多了。<br>近些年的Surface，iPad等设备也有<a href="https://en.wikipedia.org/wiki/Stylus_%28computing%29" target="_blank" rel="external">配套的笔</a>，更早就有PC上用来绘画的的数码笔/绘图笔（Wacom），但普通用户对这些设备都接触不多。这些笔都要有一个 <strong>板子</strong> 来配套，与传统的纸笔对应，一是不方便，二是增加了整体成本。另外，可能用户对笔式输入设备的印象局限在手写或绘图场景，其实它是可以像鼠标那样来操作GUI的光标的，但用户购买这些设备显然是为了手写或绘图。<br>我曾经买过一个几百元的低档数位板，它的鼠标模式需要一直将笔 <strong>悬着保持离板子几毫米的距离</strong>，用起来是很累的，其实如果没有运行支持绘图的应用，完全可以将笔在板子上移动的操作对应为鼠标的移动光标操作。<br>我的想法是设计一种笔式的输入设备，暂叫 <strong>xPen</strong> 吧（好没创意），不再需要配套的 <strong>板子</strong>，只要笔本身即可；当然要以无线的方式连接PC，也可以用到触摸平板等设备上，但主要是面向PC用户，目标是取代鼠标，既提供基础的移动光标功能，也提供手写和绘图等高级功能。</p>
<h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h2><p>这样说来 <strong>xPen</strong> 比现有的笔式设备只是少了配套的 <strong>板子</strong>，功能是相近的，要想让普通用户接受，除了价格和使用体验，还要讲好故事，介绍一些更合适的应用场景。在传统的PC办公场景，要把代替鼠标的移动光标功能作为主要功能，而手写和绘图则是增强功能，这样才能引起普通用户的兴趣，而不只是笔式设备的传统用户；教育应该是最适合的一个场景，因为数理化等学科的公式符号等不容易通过键盘鼠标输入，对手写功能有比较强的需求；课堂和会议演示中在ppt手写批注也是一个比较好的场景，理想的情况是能够取代黑板的位置。</p>
<h2 id="结构设计"><a href="#结构设计" class="headerlink" title="结构设计"></a>结构设计</h2><p>设计xPen，首先需要了解一下我们熟悉的鼠标的工作原理。鼠标的有两个主要组件：定位组件，左右两个按键和中间的滚轮（也是中键）。定位组件是底部的光电模组，激光照射在桌面上，反射到光电传感器，通过比较传感器相邻两次接收的图像，可以计算出鼠标的位移变化（Δx，Δy），即可控制屏幕上的光标按比例移动。</p>
<blockquote>
<p>说起来似乎很简单，但不清楚具体算法是如何高效实现的。</p>
</blockquote>
<p>比较微妙的是，</p>
<ul>
<li>鼠标的物理位置与屏幕光标是相对的，如果拿起鼠标移动一段距离，屏幕上的光标一般是保持不动的；再把鼠标放到桌面上移动，屏幕的光标则从刚才保持的位置开始移动。</li>
<li>鼠标的物理移动距离与屏幕光标的移动距离有一个换算比例，用户很快就能适应这个换算过程。</li>
<li>鼠标的形状设计隐含着 <strong>前后朝向</strong> 的区分。</li>
</ul>
<p>与鼠标不同，传统的笔式设备定位功能是靠配套的 <strong>板子</strong> 实现的。对于近几年常见的触摸平板，使用手指或笔时，定位都是屏幕的绝对位置；虽然绘图板与屏幕直接存在位置比例变换，但对绘图板而言也是绝对定位。绝对定位的情况就不需要考虑前后朝向的问题了。</p>
<h3 id="基于光电原理"><a href="#基于光电原理" class="headerlink" title="基于光电原理"></a>基于光电原理</h3><p>没有了 <strong>板子</strong> ，xPen如何实现定位呢？其实已经有把鼠标光电模组小型化后改成的“笔”，原理跟鼠标一样，比如下面两种：</p>
<p>（Chrome浏览器请单击一下视频，才能允许播放Flash）</p>
<p>这是<a href="https://v.qq.com/x/page/o0300z5or2g.html" target="_blank" rel="external">QQ视频的一个国内产品</a>，有美女哦，广告也就忍了吧~~</p>
<embed src="https://imgcache.qq.com/tencentvideo_v1/playerv3/TPout.swf?max_age=86400&v=20161117&vid=o0300z5or2g&auto=0" allowfullscreen="true" quality="high" width="480" height="400" align="middle" allowscriptaccess="always" type="application/x-shockwave-flash">

<p>下面的是<a href="http://www.bilibili.com/video/av7709459/" target="_blank" rel="external">B站的一个视频</a>，介绍的是国外的 <a href="https://www.kickstarter.com/projects/1958554063/phree-make-the-world-your-paper" target="_blank" rel="external">Phree</a>。这个产品做的很接近我的想法，但这个视频故事没讲好，说服力不够。</p>
<embed height="415" width="544" quality="high" allowfullscreen="true" type="application/x-shockwave-flash" src="//static.hdslb.com/miniloader.swf" flashvars="aid=7709459&page=1" pluginspage="//www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash">

<p>Phree是最近推出的产品，明显比上面那个国内的产品漂亮多了，而且没有侧面的一堆按键。如果完全照搬鼠标的设计，手写时还需要按着左键，体验还是不够方便的。笔尖不够尖的话，也影响手写的体验。</p>
<h3 id="基于陀螺仪，加速度计"><a href="#基于陀螺仪，加速度计" class="headerlink" title="基于陀螺仪，加速度计"></a>基于陀螺仪，加速度计</h3><p><a href="https://www.zhihu.com/question/28532904" target="_blank" rel="external">姿态传感器</a>有3轴（陀螺仪或加速度计，x/y/z三个方向）、6轴（陀螺仪+加速度计）、9轴（陀螺仪+加速度计+磁场），在手机和<a href="https://www.zhihu.com/question/52083051" target="_blank" rel="external">平板中比较普遍</a>了，无人机也是用它来定位和导航的（结合GPS）。陀螺仪（Gyroscope，测量角速度）和加速度计（Accelerometer）是根据力学原理来测量和计算位置的变化的。<br>下面几篇文章就是用手机内置的位置传感器实现空中鼠标或笔的功能：</p>
<ul>
<li>MobiHeld09 - PhonePoint Pen - using mobile phones to write in air 和 MobiSys11 - Using mobile phones to write in air，使用的是诺基亚N95；</li>
<li>THMS15 - GyroPen - Gyroscopes for Pen-Input With Mobile Phones（Youtube有演示视频）；</li>
<li>上海交大08 - 基于微加速度计的Air-Mouse的研究 - 姜晓波</li>
<li>中科大09 - 基于加速度传感器的电子笔系统的设计 - 王庆召</li>
<li>华中科技14 - 基于MEMS惯性传感器的空中输入笔研究 - 赵威</li>
</ul>
<h3 id="xPen的设计考虑"><a href="#xPen的设计考虑" class="headerlink" title="xPen的设计考虑"></a>xPen的设计考虑</h3><p>既然都有产品和文章了，当然还有很多专利，那xPen还能想到什么不一样的地方呢？</p>
<ul>
<li>xPen主要是针对 <strong>水平的桌面上使用的场景</strong>，而不是在空中的Air Mouse，因为在桌面上书写更自然，而且后者不够频繁；</li>
<li>xPen使用陀螺仪和加速度计这种姿态传感器来定位，而不是光电传感器，因为姿态传感器感知的参数更多，潜在的发展方向也更多；鼠标的相对定位特性允许在姿态传感器静止时（其实可以是任何随机时刻） <strong>重置内部的位置状态，避免导航场景中误差积累的问题</strong>；</li>
<li>xPen有一个 <strong>压感笔尖</strong>。当压感笔尖存在压力输出，对应为“移动光标”；压力 <strong>超过一定阈值</strong>，对应为拖动或书写（特定App下）。这样就不用像鼠标那样书写时需要一直按着左键了；也不像有的数位板，对频繁的控制光标操作却需要保持笔尖悬空。模式切换的 <strong>压力阈值</strong> 是可以通过实验统计获得的，当然用户也可以修改。<strong>压感笔尖和笔式的外形是xPen的关键</strong>；</li>
<li>对应鼠标的左右键和滚轮，xPen通过压力大小切换为鼠标的移动或拖动；对单击、双击，可以设计笔尖的点击，这跟Phree的思路是差不多的，但它的笔尖就是一个左键，不是连续输出数值（实际是10 bits的1024个等级，或12 bits的4096级）的压力传感器；但只有一个笔尖，右击、滚轮就需要另想办法了，可以在侧面增加右键，而滚轮功能可以用一块 <strong>触摸板</strong> 来实现；也可以定义类似鼠标手势，但需要对操作习惯做出较大的改变；</li>
<li>如果侧面增加一小块 <strong>触摸板</strong> 来对应鼠标的滚轮的话，其实触摸板也可以识别点击操作对应右击；触摸板的位置既要方便操作，又要避免误触，需要仔细考虑；</li>
<li>笔的形状是为了适合书写，而且一定要是 <strong>扁的</strong>，不能是 <strong>圆的</strong>，这样才能确定 <strong>前后朝向</strong>，所以最好是前后不对称的，比如横截面做成 <strong>扁的水滴状</strong>；如果横截面做成前后对称的，通过算法来猜哪头是朝前的应该也能实现，或者也可以通过触摸板来感知哪端更靠近手掌。此外，外形设计还要保证有足够的容积，提供内置锂电池的空间。</li>
</ul>
<p><img src="/img/phree.jpg" alt="Phree"></p>
<p><img src="/img/phree-structure.jpg" alt="Phree"></p>
<p><img src="/img/xpen-shape.jpg" alt="xPen的外形参照"></p>
<h3 id="其它考虑"><a href="#其它考虑" class="headerlink" title="其它考虑"></a>其它考虑</h3><ul>
<li>不要再笔尖放上油墨笔芯，因为不能也没必要把油墨书写的内容传到PC，增加这个功能只会增加困惑；</li>
<li>不要增加激光，同样是不能保证激光点与PC的光标同步；</li>
<li>不要过分强调手写识别：<ul>
<li>Windows内置了Digital Ink，配合Office OneNote，可以高效地保存和传输手写内容。书写过程中等待机器识别及修正结果会对用户产生干扰，不如保持手写原样，让人们自己去识别，除非用户选择将其识别为文本；</li>
<li>突出代替鼠标的功能，才能被普通用户接受，而支持手写则是增值的附加功能。即便单纯的笔状外形，也比鼠标让手腕放松，人体工程学体验更好；</li>
</ul>
</li>
<li>Phree视频中，<ul>
<li>随时随地书写并不太吸引人：录音，拍照应该是更合适的随时记录想法的手段；</li>
<li>支持多设备也不太有说服力，手机和触摸平板本身的触控体验应该更好；</li>
<li>带LCD显示屏，支持语音电话其实也是不太会经常用到的功能，作为卖点不会加分；</li>
<li>不过，增加麦克风以支持录音应该是比较合适的；</li>
<li>xPen应定位于能感知多种参数的输入设备，不要集成太多功能；更合适的场景是PC办公，教育，演示等。</li>
</ul>
</li>
<li>姿态传感器的性能：因为人的手移动是比较缓慢的，加速度也不会太大，从而感知角速度的陀螺仪更能反映运动状态。不确定传感器的精度是否能满足要求，但从手机内置的传感器来看还是比较乐观的。</li>
</ul>
<h1 id="其它，四年之路"><a href="#其它，四年之路" class="headerlink" title="其它，四年之路"></a>其它，四年之路</h1><p>2013年，我在嘉兴复习备战考研。当时买了一个华为的电视盒子，虽然上面的大部分App都是针对电视遥控器的方向键设计的，但也安装了几个针对触摸屏的普通App，再额外使用一个无线鼠标来操作这些App固然是可以的，但当时就想，有没有可能让遥控器来模拟鼠标操作，结果一搜还真有，就是参考了Wii手柄的，使用陀螺仪的 <strong><a href="http://www.lefant.com.cn/products/%E4%B9%90%E5%B8%86f9-%E7%A9%BA%E4%B8%AD%E9%A3%9E%E9%BC%A0" target="_blank" rel="external">飞鼠</a></strong>，买来一个体验一下，虽然可以在空中控制电视屏幕上的光标，但感觉定位不够准确，而且提着胳膊来遥控还是比较累的。为了偷懒，就把飞鼠放在茶几上移动，也能控制光标。于是就有了 <strong>使用姿态传感器的笔式鼠标的想法</strong>，再仔细考虑，就发现不能照搬鼠标按键的设计，于是就想应该使用 <strong>压感笔尖</strong>。<br>想法基本就是这样了，因为在复习，就放在一边了。<br>考研结束后换了带陀螺仪的手机，试验了一下灵敏度，感觉还是足够的，无奈我是个水货，既是编程渣，又不通硬件。后来开始读研，入学不久就真实感受到了自己的差距，毕业基本无望，又想起这个茬，似乎可以申请一个专利来应付毕业，当时确实查过不少专利，庆幸还没有完全一样的想法。找两个老板说了这个想法，不知是我没说清楚或者说的时候没有激情，还是老板不感兴趣，被果断否决了。一个老板还提到已经有类似的产品了，可以让用户像普通的笔那样手写内容，保存起来，然后把内容再传到PC上。我去搜索了一下，感觉最接近他的说法的是Livescribe了（当时还没有Phree）。Livescribe需要在它的专用带特定模式的纸上写字才行，实在不觉得比手机拍照方便多少。<br>再后来jyy师兄给了我一个小Idea，发了一篇C文，结果就转博了……真是自不量力，越走越黑。毕业无望的想法越来越频繁的出现，于是xPen的想法竟成了救命稻草一样的东西，来安慰自己不是没有一点想法也没有，隔一段时间也会看看有没有类似的产品出现，目前最接近的就是Phree了。<br>然而，实际上即便我把它做出来了（当然是不可能做到的），估计对我毕业拿学位也没有什么帮助，毕竟不是本学科的；虽然被老板否决了，其实还是可以申请专利的，而且也相信只要写了申请，基本就能通过，但还是觉得把它写到blog上吧。<br>我要抛开这棵稻草，不要原地打转了，要尽快向前游啊。<br>其实不用看到这篇博客，也应该会有人想到类似的想法的。希望有人能做出这样的产品，像鼠标那样方便亿万的用户。</p>
<h1 id="罗技的spotlight"><a href="#罗技的spotlight" class="headerlink" title="罗技的spotlight"></a>罗技的spotlight</h1><p>一天晚上（2017-10-15），Wei老师拿来他新买的激光笔给我看，是<a href="https://item.jd.com/4674246.html" target="_blank" rel="external">罗技的spotlight</a>，京东卖699元，比Phree便宜多了。他说这个激光笔居然没有激光。我一看，这个不就是没有笔尖的xPen嘛，当然就跟他解释为什么没有激光头！如果一直按着Spotlight最上面那个按键，它就通过内置的3D加速度计和陀螺仪控制屏幕上的光标，相当于一个悬空的无线鼠标，体验了一下，非常平滑流畅，macOS无需安装驱动，Windows 10插上USB接收器还会自动提示安装附加功能驱动（在系统光标上添加一个大黄圈，让光标更显著）。这说明xPen在技术上没有问题了，只要在Spotlight上加一个<strong>笔尖</strong>，不需要用户一直按某个键就可以了！</p>
<p>Yeah！</p>
<p>只可惜不是我把它造出来~~</p>
<p><img src="/img/spotlitght-design.jpg" alt=""></p>
<p><img src="/img/spotlitght-spec.png" alt=""></p>

      

      
        
    </div>
  </div>
  
</article>


  
  
</section>
        <aside id="sidebar">
  <nav class="menus">
  	<ul>
  		<li><a href="/"><i class="icon icon-home"></i></a></li>
  		
			<li><a href="/archives"><i class="icon icon-fenlei"></i></a></li>
  		
  		
  			<li><a href="https://github.com/ying-zhang" target="_blank"><i class="icon icon-github"></i></a></li>
  		
			
  			<li><a href="/atom.xml" target="_blank"><i class="icon icon-tag"></i></a></li>
  		
  	</ul>
  </nav>
  <a id="go-top" href="#"><i class="icon icon-up"></i></a>
</aside>
      </div>
      <footer id="footer">
  
	<div id="footer-info" class="inner">
	  &copy; 2017 Ying ZHANG 
	  - Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	  - Theme <a href="https://github.com/hejianxian/hexo-theme-jane/" target="_blank">Jane</a>
		- Project Source at <a href="https://github.com/ying-zhang/ying-zhang.github.io/" target="_blank">Github</a>
	</div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="https://github.com/ying-zhang" class="mobile-nav-link">Github</a>
  
    <a href="/atom.xml" class="mobile-nav-link">RSS</a>
  
</nav>
    

<script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>